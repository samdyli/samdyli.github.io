---
title: é¢è¯•ä¸­å…³äºJava8çš„æ–°ç‰¹æ€§ï¼Œä½ çŸ¥é“å¤šå°‘ï¼Ÿ
---



# {{page.title}}

------
[æ˜é‡‘é“¾æ¥](https://juejin.im/post/5e5e8b08f265da5710438dc4)

### åºè¨€

![](https://user-gold-cdn.xitu.io/2019/7/23/16c1e7922fc4ac6b?w=258&h=258&f=png&s=39922)

é¢è¯•å®˜ç»å¸¸ä¼šé—®åˆ°æ–°ç‰ˆJDKæ–°çš„ç‰¹æ€§ï¼Œ å°¤å…¶æ˜¯JDK8çš„ç‰¹æ€§ã€‚ 

ä¸‹é¢å°†é¦–å…ˆè®²è§£JDKç‰ˆæœ¬å‘å¸ƒæƒ…å†µï¼Œæ¦‚æ‹¬æ€§ä»‹ç»JDK8çš„ä¸»è¦æ–°çš„ç‰¹å¾ã€‚

ä¸»è¦åŒ…æ‹¬ï¼š
- æ–°çš„è¯­è¨€ç‰¹æ€§
- é›†åˆå¯¹è±¡çš„ä¿®æ”¹
- JVMæ–°ç‰¹æ€§
- HashMapçš„ä¿®æ”¹

å…³æ³¨â€œâ€***éå…¸å‹ç†ç§‘ç”·***â€œâ€å…¬ä¼—å·ï¼Œ å›å¤ ***jdkæ–‡æ¡£*** è·å–JDKå®˜æ–¹æ–‡æ¡£åˆé›†ã€‚

### ä¸ºä»€ä¹ˆé¢è¯•ç»å¸¸é—®JDK8æ–°çš„ç‰¹æ€§
JDK8æ˜¯2014å¹´3æœˆå‘è¡Œç‰ˆæœ¬ï¼Œ é¢è¯•å®˜ä¼šåœ¨é¢è¯•ä¸­é—®JDK8çš„ä¸€äº›æ–°çš„ç‰¹æ€§ã€‚

Javaä»å·²ç»ä»JDK1.0ç‰ˆæœ¬å‘å±•åˆ°äº†æœ€æ–°çš„JDK13, ä¸ºä»€ä¹ˆç›®å‰Jdk8ç»å¸¸è¢«é—®åˆ°å‘¢ï¼Ÿ

å¤§æ¦‚æœ‰ä¸€äº›åŸå› ï¼š

ç¬¬ä¸€ã€JDK8ä»ç„¶æ˜¯æœ€å—æ¬¢è¿çš„JDKç‰ˆæœ¬ã€‚

ä»skynç½‘ç«™çš„[ã€Š2018å¹´JVMç”Ÿæ€æŠ¥å‘Šã€‹](ç”Ÿæ€æŠ¥å‘Šhttps://snyk.io/blog/jvm-ecosystem-report-2018/)ä¸­å¯ä»¥çœ‹åˆ°æˆªæ­¢åˆ°2018å¹´ï¼Œ JDK8ä»ç„¶æ˜¯ç”Ÿæˆç¯å¢ƒä½¿ç”¨æœ€å¤šçš„JDKç‰ˆæœ¬ã€‚

![](https://user-gold-cdn.xitu.io/2020/3/4/170a14f5b4643530?w=1200&h=590&f=png&s=35838)
ç¬¬äºŒã€æ–°çš„å‘ç‰ˆå‘¨æœŸï¼Œè®©å¾ˆå¤šå…¬å¸æ— æ‰€é€‚ä»ã€‚JDK9éLTSç‰ˆæœ¬ã€‚

JDK8ä¹‹åOracleä½¿ç”¨äº†æ–°çš„å‘å¸ƒå‘¨æœŸã€‚

![](https://user-gold-cdn.xitu.io/2020/3/4/170a14f5b284fd7c?w=1200&h=267&f=png&s=48857)

è§[ã€ŠjavaSE support roadMapã€‹ã€‹](https://www.oracle.com/java/technologies/java-se-support-roadmap.html)



ä»JDKç‰ˆæœ¬å†å²å‘è¡Œçœ‹ï¼Œ Oracleä»Java9å¼€å§‹å®è¡Œäº†æ–°çš„ç‰ˆæœ¬å‘å¸ƒè§„åˆ™ï¼Œç¼©çŸ­äº†æ–°ç‰ˆæœ¬å‘å¸ƒå‘¨æœŸã€‚

JDK1.6åˆ°JDK1.7ç»è¿‡äº†5å¹´çš„æ—¶é—´

JDK1.7åˆ°JDK1.8ç»è¿‡äº†3å¹´

JDK1.8åˆ°JDK1.9ç»è¿‡äº†3å¹´

ä¹‹åçš„ç‰ˆæœ¬ æ¯6ä¸ªæœˆå‘å¸ƒä¸€ä¸ªç‰ˆæœ¬

æ¯3å¹´å‘å¸ƒä¸€ä¸ªLTSç‰ˆæœ¬ï¼ˆæœ€æ–°çš„LTSç‰ˆæœ¬æ˜¯JDK11ï¼‰



![](https://user-gold-cdn.xitu.io/2020/3/4/170a14f5b396f69a?w=1200&h=757&f=png&s=71697)

å‡ ä¹ **ä¸‰åˆ†ä¹‹ä¸€** çš„å¼€å‘äººå‘˜è¿˜ä¸çŸ¥é“ä»–ä»¬å°†å¦‚ä½•åº”å¯¹æ–°çš„å‘å¸ƒå‘¨æœŸã€‚

ç¬¬ä¸‰ã€JDK8 å¼•å…¥äº†å¾ˆå¤šéå¸¸å®ç”¨å’Œé•¿æœŸçš„å½±å“

1. JDK8å¼•å…¥æ–°çš„è¯­æ³•ç‰¹æ€§ï¼Œæ¯”å¦‚Lambdaè¡¨è¾¾å¼ï¼Œé»˜è®¤æ–¹æ³•ï¼Œæ–¹æ³•å¼•ç”¨ï¼Œæ–°å¢æ–°çš„æ—¥æœŸå¤„ç†ç±»
2. JDK8ä¸ºCollectionæ–°å¢Streamæµå¼æ¥å£ï¼Œ ä¿®æ”¹HashMapå’ŒConcurrentHashMapå®ç°
3. JDK8ä¿®æ”¹äº†JVMå†…å­˜æ¨¡å‹ï¼Œ å®ç”¨metaSpaceä»£æ›¿æ°¸ä¹…ä»£
4. JDKæ–°å¢å¹¶å‘æ¥å£å’Œå®ç°ï¼Œ åŒ…æ‹¬æ–°å¢CompletableFutureã€ä¸ºConcurrentHashMapæ–°å¢æ”¯æŒStreamæ–¹æ³•ã€æ–°å¢StampedLock

ä¸‹é¢ä»‹ç»å‡ ä¸ªé¢è¯•è¿‡ç¨‹ç»å¸¸è¢«é—®åˆ°çš„å‡ ä¸ªæ–°ç‰¹æ€§

### Lambdaè¡¨è¾¾å¼ã€æ–¹æ³•å¼•ç”¨å’Œé»˜è®¤æ–¹æ³•

**1. Lambdaè¡¨è¾¾å¼**

Lambdaè¡¨è¾¾å¼å…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ã€‚

æœ‰å‡ ç§å¸¸è§çš„Lambdaè¡¨è¾¾å¼ï¼š

```
// 1. ä¸éœ€è¦å‚æ•°,è¿”å›å€¼ä¸º 5  
() -> 5  
  
// 2. æ¥æ”¶ä¸€ä¸ªå‚æ•°(æ•°å­—ç±»å‹),è¿”å›å…¶2å€çš„å€¼  
x -> 2 * x  
  
// 3. æ¥å—2ä¸ªå‚æ•°(æ•°å­—),å¹¶è¿”å›ä»–ä»¬çš„å·®å€¼  
(x, y) -> x â€“ y  
  
// 4. æ¥æ”¶2ä¸ªintå‹æ•´æ•°,è¿”å›ä»–ä»¬çš„å’Œ  
(int x, int y) -> x + y  
  
// 5. æ¥å—ä¸€ä¸ª string å¯¹è±¡,å¹¶åœ¨æ§åˆ¶å°æ‰“å°,ä¸è¿”å›ä»»ä½•å€¼(çœ‹èµ·æ¥åƒæ˜¯è¿”å›void)  
(String s) -> System.out.print(s)
```

**2. æ–¹æ³•å¼•ç”¨**

JDK8æ”¯æŒäº†å››ç§æ–¹å¼æ–¹æ³•å¼•ç”¨

| ç±»å‹    |  æ–¹æ³•å¼•ç”¨   |
| --- | --- |
| å¼•ç”¨é™æ€æ–¹æ³•    |   ContainingClass::staticMethodName  |
|  å¼•ç”¨ç‰¹å®šå¯¹è±¡çš„å®ä¾‹æ–¹æ³•   |  containingObject::instanceMethodName   |
|  å¼•ç”¨ç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡çš„å®ä¾‹æ–¹æ³•   |   String::compareToIngoreCase  |
|    å¼•ç”¨æ„é€ å‡½æ•° |   ClassName::new  |


**3. é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•**

JDK1.8æ”¯æŒåœ¨æ¥å£ä¸­å®šä¹‰é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•ï¼Œ é»˜è®¤æ–¹æ³•å¯ä»¥è¢«æ¥å£å®ç°å¼•ç”¨ã€‚

```
package defaultmethods;
 
import java.time.*;

public interface TimeClient {
    void setTime(int hour, int minute, int second);
    void setDate(int day, int month, int year);
    void setDateAndTime(int day, int month, int year,
                               int hour, int minute, int second);
    LocalDateTime getLocalDateTime();
    
    // é™æ€æ–¹æ³•
    static ZoneId getZoneId (String zoneString) {
        try {
            return ZoneId.of(zoneString);
        } catch (DateTimeException e) {
            System.err.println("Invalid time zone: " + zoneString +
                "; using default time zone instead.");
            return ZoneId.systemDefault();
        }
    }
    
    // é»˜è®¤æ–¹æ³•
    default ZonedDateTime getZonedDateTime(String zoneString) {
        return ZonedDateTime.of(getLocalDateTime(), getZoneId(zoneString));
    }
}
```


#### Colletionçš„ä¿®æ”¹

JDK1.8å¢å¼ºäº†Collection FrameWorkï¼Œ æ”¯æŒäº†lambdaï¼Œ æµå’Œèšåˆæ“ä½œã€‚

æ”¹åŠ¨æœ‰ä¸¤ä¸ªæ–¹é¢ï¼š
-
- æ”¯æŒäº†lambdaï¼Œ æµå’Œèšåˆæ“ä½œ
- æ”¹è¿›çš„ç±»å‹æ¨æ–­

**æ”¹è¿›çš„ç±»å‹æ¨æ–­**

Javaç¼–è¯‘å™¨åˆ©ç”¨ç›®æ ‡ç±»å‹æ¥æ¨æ–­é€šç”¨æ–¹æ³•è°ƒç”¨çš„ç±»å‹å‚æ•°ã€‚


è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š
```
List <String> stringList = new ArrayList <>ï¼ˆï¼‰;
stringList.addï¼ˆ"A"ï¼‰;
stringList.addAllï¼ˆArrays.asListï¼ˆï¼‰ï¼‰;
```


Javaç®¡ç†æ‰©å±•ï¼ˆJMXï¼‰æä¾›äº†å¯¹è¯Šæ–­å‘½ä»¤çš„è¿œç¨‹è®¿é—®ã€‚

ç›®å‰ï¼Œä¸è€ƒè™‘æ³›å‹ï¼Œè¯¥æ–¹æ³•addAllå°†Collectionå®ä¾‹ä½œä¸ºå…¶å‚æ•°ï¼Œç„¶åè¯¥æ–¹æ³•Arrays.asListè¿”å›ä¸€ä¸ªListå®ä¾‹ã€‚è¿™æ˜¯æœ‰æ•ˆçš„ï¼Œå› ä¸ºListæ˜¯çš„å­ç±»å‹Collectionã€‚

ç°åœ¨è€ƒè™‘æ³›å‹ï¼Œçš„ç›®æ ‡ç±»å‹addAllä¸ºCollection<? extends String>ï¼Œå¹¶Arrays.asListè¿”å›ä¸€ä¸ªList<T>å®ä¾‹ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼ŒJava SE 8ç¼–è¯‘å™¨å¯ä»¥æ¨æ–­ç±»å‹å˜é‡çš„Tå€¼ä¸ºStringã€‚ç¼–è¯‘å™¨ä»ç›®æ ‡ç±»å‹æ¨æ–­å‡ºè¿™ä¸€ç‚¹Collection<? extends String>ã€‚

Java SE 7å’Œæ›´æ—©ç‰ˆæœ¬çš„ç¼–è¯‘å™¨ä¸æ¥å—æ­¤ä»£ç ï¼Œå› ä¸ºå®ƒä»¬ä¸ä½¿ç”¨ç›®æ ‡ç±»å‹æ¥æ¨æ–­æ–¹æ³•è°ƒç”¨å‚æ•°çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼ŒJava SE 7ç¼–è¯‘å™¨ç”Ÿæˆç±»ä¼¼äºä»¥ä¸‹å†…å®¹çš„é”™è¯¯æ¶ˆæ¯ï¼š

```
error: no suitable method found for addAll(List<Object>) ...
method List.addAll(Collection<? extends String>) is not applicable (actual argument List<Object> cannot be converted to Collection<? extends String> by method invocation conversion)
```

å› æ­¤ï¼Œåœ¨Javaç¼–è¯‘å™¨æ— æ³•æ¨æ–­ç±»å‹çš„æƒ…å†µä¸‹ï¼Œå¿…é¡»ä½¿ç”¨æ˜¾å¼æŒ‡å®šç±»å‹å˜é‡çš„å€¼ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹åœ¨Java SE 7ä¸­æœ‰æ•ˆï¼š

```
List <String> stringList = new ArrayList <>ï¼ˆï¼‰;
stringList.addï¼ˆâ€œ Aâ€ï¼‰;
stringList.addAllï¼ˆArrays.<String> asListï¼ˆï¼‰ï¼‰;
```

#### JVMæ–°ç‰¹æ€§

JDK8åœ¨JVMä¸­ä¿®æ”¹é‡è¦æœ‰ï¼š
- æ–°å¢JVMå·¥å…·ï¼šjdepsæä¾›äº†ç”¨äºåˆ†æç±»æ–‡ä»¶çš„å‘½ä»¤è¡Œå·¥å…·ã€‚
- ä½¿ç”¨metaSpaceä»£æ›¿æ°¸ä¹…åŒº
- æ–°å¢NMT(Native Memeory Trace)æœ¬åœ°å†…å­˜è·Ÿè¸ªå™¨ï¼Œå‚è§[NMT](https://docs.oracle.com/javase/8/docs/technotes/guides/vm/nmt-8.html)

#### HashMapå˜åŒ–

JDK8ä¼˜åŒ–äº†HashMapçš„å®ç°ï¼Œ ä¸»è¦ä¼˜åŒ–ç‚¹åŒ…æ‹¬ï¼š

- å°†é“¾è¡¨æ–¹å¼ä¿®æ”¹æˆé“¾è¡¨æˆ–è€…çº¢é»‘æ ‘çš„å½¢å¼
- ä¿®æ”¹resizeçš„è¿‡ç¨‹ï¼Œè§£å†³JDK7åœ¨resizeåœ¨å¹¶å‘åœºæ™¯ä¸‹æ­»é”çš„éšæ‚£
- JDK1.7å­˜å‚¨ä½¿ç”¨Entryæ•°ç»„ï¼Œ JDK8ä½¿ç”¨Nodeæˆ–è€…TreeNodeæ•°ç»„å­˜å‚¨

å½“é“¾è¡¨é•¿åº¦å¤§äº8æ˜¯é“¾è¡¨çš„å­˜å‚¨ç»“æ„ä¼šè¢«ä¿®æ”¹æˆçº¢é»‘æ ‘çš„å½¢å¼ã€‚

æŸ¥è¯¢æ•ˆç‡ä»O(N)æå‡åˆ°O(logN)ã€‚é“¾è¡¨é•¿åº¦å°äº6æ—¶ï¼Œçº¢é»‘æ ‘çš„æ–¹å¼é€€åŒ–æˆé“¾è¡¨ã€‚ 

JDK7é“¾è¡¨æ’å…¥æ˜¯ä»é“¾è¡¨å¤´éƒ¨æ’å…¥ï¼Œ åœ¨resizeçš„æ—¶å€™ä¼šå°†åŸæ¥çš„é“¾è¡¨é€†åºã€‚

JDK8æ’å…¥ä»é“¾è¡¨å°¾éƒ¨æ’å…¥ï¼Œ å› æ­¤åœ¨resizeçš„æ—¶å€™ä»ç„¶ä¿æŒåŸæ¥çš„é¡ºåºã€‚ 

ğŸ‘ å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼š***éå…¸å‹ç†ç§‘ç”·***  å›å¤ï¼š***JDKæ–‡æ¡£*** è·å–JDKå®˜æ–¹æ–‡æ¡£ã€‚

